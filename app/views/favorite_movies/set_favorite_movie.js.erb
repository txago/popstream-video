const favorite = '<i class="fas fa-star" /i>'
const favorited = '<i class="far fa-star" /i>'
const revertedText = {
  "Favoritar": 'Favoritado <i class="fas fa-star" data-fav="Favoritado"></i>',
  "Favoritado":'Favoritar <i class="far fa-star" data-fav="Favoritar"></i>',
  '<i class="fas fa-star"></i>': `<i class="far fa-star" data-fav="${favorite}"></i>`,
  '<i class="far fa-star"></i>': `<i class="fas fa-star" data-fav="${favorited}"></i>`,
}

const button = document.querySelector("#favoritar<%= @movie.id %>");
const icon = button.querySelector('i');
const buttonText = icon.dataset.fav;
const updateText = revertedText[buttonText]

if (updateText) {
  button.innerHTML = updateText;
} else {
  $(icon).toggleClass('fas far')
}
