<!-- page container -->
<div class="container mb-4">
  <!-- page title -->
  <div class="row d-flex justify-content-center my-4">
    <div class="col-12 col-sm-12 col-md-10 col-lg-8 text-center">
      <h1>Edit Directors</h1>
      <%= link_to "Add new director", new_director_path, class: "btn btn-primary" %>
    </div>
  </div>
  <!-- card grid -->
  <div class="row justify-content-center">
    <!-- single card loop -->
    <% @directors.each do |director| %>
    <div class="col-6 col-sm-6 col-md-3 col-lg-2">
      <div class="card-director mb-4">
        <% if director.photo.attached? %>
        <%= cl_image_tag director.photo.key, width: 200, height: 200, crop: :fill, class: 'card-thumb' %>
        <% end %>
        <div class="card-info">
          <h2><%= director.name %></h2>
          <%= link_to director_path(director), method: :delete, data: { confirm: "Are you sure?" }, class: 'text-uppercase badge badge-warning' do %>Delete <i class="far fa-trash-alt"></i><% end %>
        </div>
        <!-- director movies loop -->
        <% if director.movies.exists? %>
          <ul class="list-group list-group-flush">
            <li class="list-group-item font-weight-bold">Filmes</li>
            <% director.movies.each do |movie| %>
            <li class="list-group-item"><%= link_to movie.name, movie_path(movie) %></li>
            <% end %>
          </ul>
        <% else %>
          <div class="card-info">
            <p>No movies yet.</p>
          </div>
        <% end %>
        <!-- end director movies loop -->
      </div>
    </div>
    <% end %>
    <!-- end single card loop -->
  </div>
  <!-- end card grid -->
</div>
<!-- end container -->
